{
    "name": "tracer_server",
    "version": "0.0.1",
    "author": {
        "name": "Pedro Henrique",
        "email": "pedro00dk@gmail.com"
    },
    "license": "ISC",
    "main": "index.ts",
    "devDependencies": {
        "@types/express": "*",
        "@types/node": "*",
        "@types/yargs": "*",
        "tslint": "*",
        "typescript": "*"
    },
    "dependencies": {
        "express": "*",
        "rxjs": "*",
        "yargs": "*"
    },
    "scripts": {
        "lint": "tslint --config ./tslint.json --project ./package.json",

        "debug": "tsc && node --nolazy --inspect-brk=9229 ./dist/index.js",
        "debug-tracers": "npm run debug -- --tracer java 'cd ./JavaTracer/ && javac -cp src:lib/* --add-exports jdk.jdi/com.sun.tools.jdi=ALL-UNNAMED -d out src/Main.java &> /dev/null && java -cp out:lib/* --add-exports jdk.jdi/com.sun.tools.jdi=ALL-UNNAMED Main {}' --tracer python 'cd ./PythonTracer/ && python -OO ./src/main.py {}'",

        "start": "tsc && node ./dist/index.js",
        "start-tracers": "npm run start -- --tracer java 'cd ./JavaTracer/ && javac -cp src:lib/* --add-exports jdk.jdi/com.sun.tools.jdi=ALL-UNNAMED -d out src/Main.java &> /dev/null && java -cp out:lib/* --add-exports jdk.jdi/com.sun.tools.jdi=ALL-UNNAMED Main {}' --tracer python 'cd ./PythonTracer/ && python -OO ./src/main.py {}'",

        "docker-build": "docker image build --tag tracer:server -- ./",
        "docker-start": "docker container run --rm --interactive --tty --publish 8000:8000 -- tracer:server --",
        "docker-start-tracers": "docker container run --rm --interactive --tty --publish 8000:8000 --volume /var/run/docker.sock:/var/run/docker.sock -- tracer:server -- --tracer java 'docker run --rm -i tracer:java {}' --tracer python 'docker run --rm -i tracer:python {}'",

        "tracer-java-build": "docker image build --file ./JavaTracer/Dockerfile --tag tracer:java -- ./JavaTracer/",
        "tracer-python-build": "docker image build --file ./PythonTracer/Dockerfile --tag tracer:python -- ./PythonTracer/",
        "tracers-build": "npm run-script tracer-java-build && npm run-script tracer-python-build"
    }
}