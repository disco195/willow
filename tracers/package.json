{
    "name": "tracer_server",
    "version": "0.0.1",
    "author": {
        "name": "Pedro Henrique",
        "email": "pedro00dk@gmail.com"
    },
    "license": "ISC",
    "main": "./src/index.ts",
    "devDependencies": {
        "@types/express": "^4.16.1",
        "@types/jest": "^24.0.5",
        "@types/node": "^10.12.26",
        "@types/yargs": "^12.0.9",
        "jest": "^24.1.0",
        "tslint": "^5.12.1",
        "typescript": "^3.3.3"
    },
    "dependencies": {
        "express": "^4.16.4",
        "rxjs": "^6.4.0",
        "yargs": "^12.0.5"
    },
    "config": {
        "main": "./dist/src/index.js",
        "test": "./dist/test",
        "java-supplier": "cd ./JavaTracer/ && javac -cp src:lib/* --add-exports jdk.jdi/com.sun.tools.jdi=ALL-UNNAMED -d out src/Main.java &> /dev/null && java -cp out:lib/* --add-exports jdk.jdi/com.sun.tools.jdi=ALL-UNNAMED Main {}",
        "java-supplier-test": "cd ./JavaTracer/ && javac -cp src:lib/* --add-exports jdk.jdi/com.sun.tools.jdi=ALL-UNNAMED -d out src/Main.java &> /dev/null && java -cp out:lib/* --add-exports jdk.jdi/com.sun.tools.jdi=ALL-UNNAMED Main --test {}",
        "python-supplier": "cd ./PythonTracer/ && python -OO ./src/main.py {}",
        "python-supplier-test": "cd ./PythonTracer/ && python -OO ./src/main.py --test {}",
        "java-docker-image": "tracer:java",
        "python-docker-image": "tracer:python",
        "tracer-docker-image": "tracer:server"
    },
    "scripts": {
        "lint": "tslint --config ./tslint.json --project ./package.json",
        "test": "tsc && jest --coverage --detectOpenHandles --forceExit $npm_package_config_test",
        "debug": "tsc && node --nolazy --inspect-brk=9229 $npm_package_config_main",
        "debug-tracers": "npm run debug -- --tracer java \"$npm_package_config_java_supplier\" --tracer python \"$npm_package_config_python_supplier\"",
        "start": "tsc && node $npm_package_config_main",
        "start-tracers": "npm run start -- --tracer java \"$npm_package_config_java_supplier\" --tracer python \"$npm_package_config_python_supplier\"",
        "start-tracers-test": "npm run start -- --tracer java \"$npm_package_config_java_supplier_test\" --tracer python \"$npm_package_config_python_supplier_test\"",
        "docker-tracer-java-build": "docker image build --file ./JavaTracer/Dockerfile --tag $npm_package_config_java_docker_image -- ./JavaTracer/",
        "docker-tracer-python-build": "docker image build --file ./PythonTracer/Dockerfile --tag $npm_package_config_python_docker_image -- ./PythonTracer/",
        "docker-server-build": "docker image build --tag $npm_package_config_tracer_docker_image -- ./",
        "docker-build": "npm run docker-tracer-java-build && npm run docker-tracer-python-build && npm run docker-server-build",
        "docker-start": "docker container run --rm --interactive --tty --publish 8000:8000 -- $npm_package_config_tracer_docker_image --",
        "docker-start-tracers": "docker container run --rm --interactive --tty --publish 8000:8000 --volume /var/run/docker.sock:/var/run/docker.sock -- $npm_package_config_tracer_docker_image -- --tracer java \"docker run --rm -i $npm_package_config_java_docker_image {}\" --tracer python \"docker run --rm -i $npm_package_config_python_docker_image {}\""
    }
}